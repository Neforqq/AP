import java.util.Scanner;

public class poehali {
    public static void main(String[] args) {
        int size = 5; // Розмір матриці
        double[][] matrix = new double[size][size];
        Scanner scanner = new Scanner(System.in);

        // Заповнення матриці користувачем
        System.out.println("Введіть елементи матриці розміром 5x5:");
        for (int i = 0; i < size; i++) {
            for (int j = 0; j < size; j++) {
                while (true) {
                    System.out.print("Елемент [" + i + "][" + j + "] (не може бути 0): ");
                    matrix[i][j] = scanner.nextDouble();
                    if (matrix[i][j] != 0) {
                        break; // Виходимо з циклу, якщо значення не 0
                    } else {
                        System.out.println("Помилка: значення не може бути 0. Спробуйте ще раз.");
                    }
                }
            }
        }

        // Виведення введеної матриці
        System.out.println("Введена матриця:");
        for (int i = 0; i < size; i++) {
            for (int j = 0; j < size; j++) {
                System.out.print(matrix[i][j] + " ");
            }
            System.out.println();
        }

        // Зведення до верхньої трикутної матриці
        double determinant = 1; // Початковий визначник
        for (int i = 0; i < size; i++) {
            for (int k = i + 1; k < size; k++) {
                double factor = matrix[k][i] / matrix[i][i]; // Коефіцієнт для обнулення
                for (int j = i; j < size; j++) {
                    matrix[k][j] -= factor * matrix[i][j]; // Обнулення елемента
                }
            }
            determinant *= matrix[i][i]; // Множимо діагональні елементи
        }

        System.out.println("Визначник матриці: " + determinant);
    }
}
